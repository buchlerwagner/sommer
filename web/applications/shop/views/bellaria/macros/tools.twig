{% macro productItem(data, stopSale, showCategory = false, context) %}
    {% import _self as tools %}
    <div id="item-{{ data.id }}" class="shop-item col-lg-4 col-md-6 col-sm-12">
        <div class="inner-box">
            <div class="image-box">
                {% if data.variants[0].price.discount > 0 and data.variants[0].price.value > data.variants[0].price.discount %}
                <div class="sale-tag">{{ _('LBL_SALE') }}</div>
                {% endif %}
                <figure class="image">
                    <a href="{{ data.url }}">
                        <img src="{% if data.thumbnail %}{{ data.thumbnail }}{% else %}{{ context.theme }}images/no-img.png{% endif %}" alt="{{ data.name }}" title="{{ data.name }}">
                    </a>
                </figure>
                <div class="btn-box">
                    {% if data.available and not stopSale %}
                        <a href="javascript:;" class="add-to-cart" data-id="{{ data.id }}" data-variant="{{ data.variants[0].id }}" data-quantity="1"><i class="far fa-cart-plus"></i> {{ _('LBL_ADD_TO_CART') }}</a>
                    {% else %}
                        <a href="{{ data.url }}"> {{ _('LBL_VIEW_DETAILS') }}</a>
                    {% endif %}
                </div>
            </div>
            <div class="lower-content">
                <h4 class="name">
                    <a href="{{ data.url }}">{{ data.name }}</a>
                </h4>
                {% if showCategory %}
                <a href="{{ data.category.url }}">{{ data.category.name }}</a>
                {% endif %}
                {{ tools.ratingStars(data.ratings.value, data.ratings.reviews) }}
                <div class="price">
                    {% if data.variants[0].price.discount > 0 and data.variants[0].price.value > data.variants[0].price.discount  %}
                        <del>{{ _price(data.variants[0].price.value, data.variants[0].price.currency) }}</del>
                        {{ _price(data.variants[0].price.discount, data.variants[0].price.currency) }}{% if data.variants[0].packaging.packageUnitName %}/{{ data.variants[0].packaging.packageUnitName }}{% endif %}{% if data.hasVariants %}{{ _('LBL_PRICE_FROM') }}{% endif %}
                    {% else %}
                        {{ _price(data.variants[0].price.value, data.variants[0].price.currency) }}{% if data.variants[0].packaging.packageUnitName %}/{{ data.variants[0].packaging.packageUnitName }}{% endif %}{% if data.hasVariants %}{{ _('LBL_PRICE_FROM') }}{% endif %}
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endmacro %}

{% macro ratingStars(value, reviews) %}
    {% if value and reviews %}
    <div class="rating">
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star light"></span>
    </div>
    {% endif %}
{% endmacro %}

{% macro pager(data) %}
    {% if data.totalPages > 1 %}

        {% set totalPages = data.totalPages %}
        {% set pagerButtons = 8 %}

        <div class="styled-pagination text-center">
            <ul>
                {% if data.page > 1 %}
                    <li><a class="prev" href="{{ data.dir }}?page={{ data.page - 1 }}{{ data.urlParams }}" data-page="{{ data.page - 1 }}"><i class="fa fa-chevron-left"></i></a></li>
                {% else %}
                    <li><a class="disabled" href="javascript:;"><i class="fa fa-chevron-left"></i></a></li>
                {% endif %}
                <li class="{% if data.page == 1 %}current{% endif %}"><a href="{{ data.dir }}?page=1{{ data.urlParams }}" data-page="1">1</a></li>

                {% if totalPages > 2 %}

                    {% set ellipsisLeft = 0 %}
                    {% set ellipsisRight = 0 %}

                    {% if totalPages > pagerButtons %}

                        {% if data.page >= pagerButtons %}
                            {% if totalPages > pagerButtons + 1 %}
                                {% set ellipsisLeft = 1 %}
                            {% endif %}
                            {% set ellipsisRight = 1 %}

                            {% set pStart = data.page - 2 %}
                            {% set pEnd = data.page + 2 %}

                            {% if data.page > totalPages - (pagerButtons - 1) %}
                                {% set ellipsisRight = 0 %}
                                {% set pStart = totalPages - (pagerButtons - 1) %}
                                {% set pEnd = totalPages - 1 %}
                            {% endif %}

                        {% else %}
                            {% set pStart = 2 %}

                            {% if totalPages > pagerButtons %}
                                {% set pEnd = pagerButtons %}
                                {% set ellipsisRight = 1 %}
                            {% else %}
                                {% set pEnd = totalPages - 1 %}
                            {% endif %}

                            {% if totalPages > pagerButtons + 1 %}
                                {% set ellipsisRight = 1 %}
                            {% endif %}

                        {% endif %}

                    {% else %}
                        {% set pStart = 2 %}
                        {% set pEnd = totalPages - 1 %}
                    {% endif %}

                    {% if ellipsisLeft == 1 %}
                        <li><a class="">...</a></li>
                    {% endif %}

                    {% for page in pStart..pEnd %}
                        <li class="{% if page == data.page %}current{% endif %}"><a href="{{ data.dir }}?page={{ page }}{{ data.urlParams }}" data-page="{{ page }}">{{ page }}</a></li>
                    {% endfor %}

                    {% if ellipsisRight == 1 %}
                        <li><a class="">...</a></li>
                    {% endif %}

                {% endif %}
                <li class="{% if totalPages == data.page %}current{% endif %}"><a href="{{ data.dir }}?page={{ totalPages }}{{ data.urlParams }}" data-page="{{ totalPages }}">{{ totalPages }}</a></li>

                {% if data.page < totalPages %}
                    <li class=""><a class="next" href="{{ data.dir }}?page={{ data.page + 1 }}{{ data.urlParams }}" data-page="{{ data.page + 1 }}"><i class="fa fa-chevron-right"></i></a></li>
                {% else %}
                    <li class=""><a class="disabled" href="javasript:;"><i class="fa fa-chevron-right"></i></a></li>
                {% endif %}
            </ul>
        </div>
    {% endif %}
{% endmacro %}

{% macro highlightItem(data) %}
    <div class="service-block">
        <div class="inner-box">
            <div class="image-box">
                <div class="services_frame"><svg viewBox="0 0 500 500"><path d="M488.5,274.5L488.5,274.5l1.8-0.5l-2,0.5c-2.4-8.7-4.5-16.9-4.5-24.5c0-8,2.3-16.5,4.7-25.5 c3.5-13,7.1-26.5,3.7-39.5c-3.6-13.2-13.5-23.1-23.1-32.7c-6.5-6.5-12.6-12.6-16.6-19.4c-3.9-6.8-6.1-15.2-8.5-24.1 c-3.5-13.1-7.1-26.7-16.7-36.3c-9.5-9.5-22.9-13.1-35.9-16.6c-9-2.4-17.5-4.6-24.4-8.7c-6.5-3.8-12.5-9.8-18.9-16.2 c-9.7-9.8-19.6-19.8-33.2-23.4c-13.5-3.7-27.3,0.1-40.4,3.7c-8.7,2.4-16.9,4.6-24.5,4.6c-8,0-16.5-2.3-25.5-4.7 c-9.3-2.5-18.8-5-28.1-5c-3.8,0-7.6,0.4-11.3,1.4C172,11.1,162,21.1,152.4,30.7c-6.5,6.5-12.6,12.6-19.4,16.6 c-6.8,3.9-15.2,6.1-24.1,8.5c-13.1,3.5-26.7,7.1-36.3,16.7c-9.5,9.5-13.1,23-16.6,36c-2.4,9-4.6,17.5-8.7,24.4 c-3.8,6.5-9.8,12.5-16.2,18.9c-9.8,9.7-19.7,19.6-23.4,33.2c-3.7,13.5,0.1,27.3,3.7,40.5c2.4,8.7,4.6,16.9,4.6,24.5 c0,8-2.3,16.5-4.6,25.5c-3.5,13-7.1,26.6-3.7,39.5c3.6,13.2,13.5,23.1,23.1,32.7c6.5,6.5,12.6,12.6,16.6,19.4 c3.9,6.8,6.1,15.1,8.5,24c3.5,13.1,7.1,26.8,16.7,36.4c9.5,9.5,23,13.1,35.9,16.6c9,2.4,17.5,4.6,24.4,8.7 c6.5,3.8,12.5,9.8,18.9,16.2c9.7,9.8,19.6,19.8,33.2,23.5c3.8,1,7.6,1.5,11.8,1.5c9.6,0,19.3-2.7,28.5-5.1c8.8-2.4,17-4.6,24.5-4.6 c8,0,16.5,2.3,25.5,4.6c13,3.6,26.6,7.1,39.5,3.7c13.2-3.6,23.1-13.5,32.7-23.1c6.5-6.5,12.6-12.6,19.4-16.6 c6.7-3.9,15.1-6.1,24-8.5c13.1-3.5,26.8-7.1,36.4-16.8c9.5-9.5,13.1-23,16.6-36c2.4-9,4.6-17.5,8.7-24.4c3.8-6.5,9.8-12.5,16.2-18.9 c9.8-9.7,19.9-19.7,23.6-33.3C495.7,301.4,494.4,287.7,488.5,274.5z"></path></svg></div>
                <figure class="image">
                    <a href="{{ data.url }}">
                        <img src="{{ data.thumbnail }}" alt="">
                    </a>
                </figure>
            </div>
            <h4 class="name mb-1">
                <a href="{{ data.url }}">
                    {{ data.name }}
                </a>
            </h4>
            <div class="price">
                {% if data.variants[0].price.discount > 0 and data.variants[0].price.value > data.variants[0].price.discount  %}
                    {{ _price(data.variants[0].price.discount, data.variants[0].price.currency) }}{% if data.variants[0].packaging.packageUnitName %}/{{ data.variants[0].packaging.packageUnitName }}{% endif %}{% if data.hasVariants %}{{ _('LBL_PRICE_FROM') }}{% endif %}
                {% else %}
                    {{ _price(data.variants[0].price.value, data.variants[0].price.currency) }}{% if data.variants[0].packaging.packageUnitName %}/{{ data.variants[0].packaging.packageUnitName }}{% endif %}{% if data.hasVariants %}{{ _('LBL_PRICE_FROM') }}{% endif %}
                {% endif %}
            </div>
        </div>
    </div>
{% endmacro %}

{% macro cartItemHeader(item) %}
<li class="cart-item cart-item-{{ item.id }}">
    <img src="{{ item.image }}" alt="{{ item.name }}" class="thumb" />
    <span class="item-name">
        {{ item.name }}
    </span>
    {% if item.variant %}
        <span class="text-muted">{{ item.variant }}</span>
    {% endif %}
    <span class="item-quantity">
        <span class="item-quantity-{{ item.id }}">{{ item.quantity.amount }} {{ item.quantity.unit }}</span> x
        <span class="item-price-{{ item.id }} item-price">{{ _price(item.price.value, item.price.currency) }}</span>
    </span>
    <a href="{{ item.url }}" class="product-detail"></a>
    <button class="remove-item" data-id="{{ item.id }}"><span class="fa fa-times"></span></button>
</li>
{% endmacro %}

{% macro pageSections(sections, context) %}
    {% if sections %}
        {% for section in sections %}
            <section class="contact-section pt-3">
                <div class="auto-container">
                    <div class="sec-title text-center mb-1 mt-1">
                        <h2>{{ section.title }}</h2>
                        <div class="text">
                            {{ include(template_from_string(section.content)) }}
                        </div>
                    </div>
                    <div class="cws_divider mt-5"><img src="{{ context.theme }}images/icons/divider_11.png" alt=""></div>
                </div>
            </section>
        {% endfor %}
    {% endif %}
{% endmacro %}
