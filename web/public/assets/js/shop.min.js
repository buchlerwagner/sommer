var mzOptions={upscale:!1},shoppingCart={inProgress:!1,sendData:function(t,a){shoppingCart.inProgress||(shoppingCart.setProgress(!0),$.ajax({url:"/ajax/cart/"+t+"/",type:"post",data:JSON.stringify(a),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){t&&(processJSONResponse(t),shoppingCart.reinit()),shoppingCart.setProgress(!1)}}))},setProgress:function(t){shoppingCart.inProgress=t},viewPopup:function(){var t=$("#ajax-modal");$("#ajax-modal .modal-dialog").addClass("modal-lg modal-dialog-centered"),t.find(".modal-content").load("/ajax/cart/popup/",function(){t.modal("show")})},addNewHeaderItem:function(t){console.log(t),$("#header-cart .header-cart-items").append('<figure class="itemside mb-2 border-bottom pb-2 item-'+t.id+'"><div class="aside"><img src="/i.php?src='+t.imgbase64+'&w=80&h=80&m=1" class="img-sm border"></div><figcaption class="info align-self-center text-nowrap w-100"><p class="title">'+t.name+'</p><a href="#" class="float-right action-remove-item" data-id="'+t.id+'"><i class="fa fa-trash"></i></a><div class="price item-price-'+t.id+'">'+t.price.formated+"</div></figcaption></figure>")},addToCart:function(t){t=$(t).serializeJSON();shoppingCart.sendData("add",t)},removeFromCart:function(t){shoppingCart.sendData("remove",{id:t})},setQuantity:function(t,a,i){var n=parseInt($("#quantity").val());n+=t,$("#quantity").val(n),a<n?$("#button-minus").removeAttr("disabled"):$("#button-minus").attr("disabled","disabled"),n<=i?$("#button-plus").removeAttr("disabled"):$("#button-plus").attr("disabled","disabled")},initControlls:function(){$(".action-add-item").on("click",function(){var t=$(this).parents("form");shoppingCart.addToCart(t)}),$(document).on("click",".action-remove-item",function(){var t=$(this).data("id");shoppingCart.removeFromCart(t)}),$(".quantity-select").on("click",function(){var t=$(this),a=parseInt(t.parents(".input-group").find("input").attr("data-min")||1),i=parseInt(t.parents(".input-group").find("input").attr("data-max")||99999);0===i&&(i=99999);var n=parseInt(t.data("value")),e=t.parents(".input-group").find("input"),o=parseInt(e.val());e.val(o+=n),a<o?t.parents(".input-group").find(".btn-minus").removeAttr("disabled"):t.parents(".input-group").find(".btn-minus").attr("disabled","disabled"),o<i?t.parents(".input-group").find(".btn-plus").removeAttr("disabled"):t.parents(".input-group").find(".btn-plus").attr("disabled","disabled")}),$(".select-variant").on("change",function(){var t=parseInt($(this).val()),t=$("#item-price-"+t);$(".item-price").hide(),t.removeClass("d-none").show(),$("#quantity").attr("data-min",t.data("min")).attr("data-max",t.data("max")).val(t.data("min")),$("#weight").html(t.data("weight")),t.data("img")?(t=document.getElementById("img-"+t.data("img")),MagicZoom.switchTo("zoom",t)):MagicZoom.switchTo("zoom",0)})},reinit:function(){},init:function(){shoppingCart.initControlls()}};$(function(){"function"==typeof autosize&&autosize($("textarea")),shoppingCart.init()});
//# sourceMappingURL=shop.min.js.map